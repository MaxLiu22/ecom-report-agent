<template>
  <div class="content-panel">
    <!-- æŠ˜å åˆè§„æ‰©å±•å†…å®¹ -->
    <div class="accordion" style="margin-top: 32px">
      <!-- 1.1 è·å…°ç«™listingåŒæ­¥ -->
      <div class="acc-item" :class="{ open: openSections.nlListing }">
        <button
          class="acc-header"
          @click="toggleSection('nlListing')"
          :aria-expanded="openSections.nlListing.toString()"
          aria-controls="panel-nlListing"
        >
          <span class="acc-index">1.1</span>
          <span class="acc-title">è·å…°ç«™ Listing åŒæ­¥</span>
          <span class="acc-icon" aria-hidden="true"></span>
        </button>
        <div class="acc-body" id="panel-nlListing" v-show="openSections.nlListing">
          <!-- <p class="acc-text">
            è¯´æ˜ï¼šç”¨äºå°†ä¸»è¦ EU5ï¼ˆDE/FR/IT/ES/UKï¼‰å·²éªŒè¯çš„ ASIN / Listing ä¿¡æ¯å¿«é€ŸåŒæ­¥åˆ°
            NLï¼Œé™ä½é‡å¤åˆ›å»ºå·¥ä½œé‡å¹¶è¦†ç›–é•¿å°¾æµé‡ã€‚
          </p>
          <ul class="acc-list">
            <li>æ£€æŸ¥å¤šå›½åº“å­˜/ PanEU çŠ¶æ€ï¼Œç¡®ä¿å¯é…é€ NL</li>
            <li>ç»Ÿä¸€ç¿»è¯‘ç­–ç•¥ï¼šä¼˜å…ˆæœºå™¨ç¿»è¯‘ + äººå·¥å…³é”®è¯å¾®è°ƒ</li>
            <li>å¸¸è§é˜»ç¢ï¼šå“ç‰Œé™åˆ¶ / å˜ä½“ç»“æ„ä¸ä¸€è‡´ / å±æ€§ç¼ºå¤±</li>
            <li>å»ºè®®ï¼šæ‰¹é‡å¤„ç†ï¼ˆæ¨¡æ¿ä¸Šä¼ ï¼‰â†’ ç›‘æ§æŠ›é”™ â†’ å¢é‡åŒæ­¥</li>
          </ul> -->
          <div class="policy-update-card">
            <h2 class="main-title">æ”¿ç­–æ›´æ–°</h2>

            <div class="content-area">
              <h3 class="sub-title">PanEUæ­£å¼çº³å…¥è·å…°ç«™</h3>

              <div class="info-box-yellow">
                <div class="info-line">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M20 12v10H4V12"></path>
                    <path d="M12 2a4 4 0 0 1 4 4v6H8V6a4 4 0 0 1 4-4z"></path>
                    <path d="M2 7h20"></path>
                  </svg>
                  <span>æ‚¨çš„è·å…°åŒæ­¥æœºä¼š</span>
                </div>
                <div class="info-line">
                  <span>éœ€è¦åŒæ­¥åˆ°NLçš„ASINæ•°é‡ï¼š</span>
                  <span class="asin-badge">1.5k</span>
                </div>
                <div class="info-line">
                  <span>åŒæ­¥åå¯äº«å—æœ¬åœ°é…é€è´¹ï¼Œ</span>
                  <span class="highlight-text">å¹³å‡æ¯”è·¨å¢ƒé…é€è´¹ä½43%</span>
                </div>
              </div>

              <div class="info-box-green">
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <span>åŸºäºæ‚¨ä¸Šä¼ çš„PanEUæ•°æ®åˆ†æ</span>
              </div>

              <p class="description">
                ä» 2025 å¹´ 7 æœˆ 22 æ—¥èµ·ï¼Œäºšé©¬é€Šç‰©æµæ¬§æ´²æ•´åˆæœåŠ¡ (Pan-European FBA)
                å°†è¦æ±‚æ‚¨åœ¨è·å…°ï¼ˆä»¥åŠæ³•å›½ã€å¾·å›½ã€æ„å¤§åˆ©å’Œè¥¿ç­ç‰™ä¹‹å¤–ï¼‰ä¹Ÿå¿…é¡»ä¸ºæ‰€æœ‰æ–°çš„äºšé©¬é€Šç‰©æµæ¬§æ´²æ•´åˆæœåŠ¡
                (Pan-European FBA)
                å•†å“è®¾ç½®æœ‰æ•ˆçš„æŠ¥ä»·ã€‚è¿™é¡¹è¦æ±‚å°†åœ¨ä»Šå¹´æ™šäº›æ—¶å€™æ‰©å±•åˆ°æ‰€æœ‰æ‚¨ç°æœ‰çš„äºšé©¬é€Šç‰©æµæ¬§æ´²æ•´åˆæœåŠ¡
                (Pan-European FBA) å•†å“ã€‚
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- 1.2 æ„å¤§åˆ©åˆè§„æ”¿ç­– -->
      <div class="acc-item" :class="{ open: openSections.itCompliance }">
        <button
          class="acc-header"
          @click="toggleSection('itCompliance')"
          :aria-expanded="openSections.itCompliance.toString()"
          aria-controls="panel-itCompliance"
        >
          <span class="acc-index">1.2</span>
          <span class="acc-title">æ„å¤§åˆ©åˆè§„æ”¿ç­–</span>
          <span class="acc-icon" aria-hidden="true"></span>
        </button>
        <div class="acc-body" id="panel-itCompliance" v-show="openSections.itCompliance">
          <!-- å¤ç”¨ Tab3 çš„æ”¿ç­–æ›´æ–°å›¾ç‰‡æ¿å—ï¼Œè°ƒæ•´ä¸ºæœ¬ç»„ä»¶é€‚é…çš„æ ·å¼ -->
          <div class="content-header">
            <h2>ğŸ“£ æ”¿ç­–æ›´æ–°</h2>
            <p class="content-description">æœ€æ–°çš„æ¬§ç›Ÿæ”¿ç­–å˜åŒ–ã€å®˜æ–¹æ¥æºä¸ä¸šåŠ¡å½±å“æç¤º</p>
          </div>
          <div class="policy-updates" style="margin-top: 10px">
            <div class="policy-card">
              <a
                href="https://mp.weixin.qq.com/s?__biz=MzkxNzI4NjI5OQ==&mid=2247619861&idx=1&sn=817af8fb84f74681699dc32d95cd6f30&chksm=c0faaf330e446a2765b87002bde225f90919cd3ce9a9cebcc32ddbddfa2a48421e1c89592081&from=industrynews&version=4.1.7.6056&platform=win#rd"
                target="_blank"
                rel="noopener noreferrer"
                class="policy-link"
              >
                <img src="/src/assets/æ”¿ç­–æ›´æ–°.png" alt="æ”¿ç­–æ›´æ–°" class="policy-image" />
              </a>
              <div class="img-caption">ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹åŸæ–‡ï¼ˆå¾®ä¿¡å…¬ä¼—å¹³å°ï¼‰</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 1.3 è‹±å›½ FHDDS -->
      <div class="acc-item" :class="{ open: openSections.ukFHDDS }">
        <button
          class="acc-header"
          @click="toggleSection('ukFHDDS')"
          :aria-expanded="openSections.ukFHDDS.toString()"
          aria-controls="panel-ukFHDDS"
        >
          <span class="acc-index">1.3</span>
          <span class="acc-title">è‹±å›½ FHDDS</span>
          <span class="acc-icon" aria-hidden="true"></span>
        </button>
        <div class="acc-body" id="panel-ukFHDDS" v-show="openSections.ukFHDDS">
          <p class="acc-text">
            FHDDS (Fulfilled by Amazon Dangerous Goods / Hazmat ç›¸å…³æµç¨‹ &amp; ç”³æŠ¥ä½“ç³») å…³é”®ç‚¹ï¼š
          </p>
          <ul class="acc-list">
            <li>åˆ†ç±»ï¼šç”µæ±  / åŒ–å­¦å“ / å–·é›¾æ°”é›¾ / ç£æ€§ / æ˜“ç‡ƒæ¶²ä½“</li>
            <li>æ‰€éœ€èµ„æ–™ï¼šSDSï¼ˆè¿‘ 36 ä¸ªæœˆå†…ï¼‰ã€UN ç¼–ç ã€æˆåˆ†ã€é—ªç‚¹ç­‰</li>
            <li>å¸¸è§æ‹’ç»ï¼šèµ„æ–™ç¼ºå¤±ã€UN ä»£ç ä¸åŒ¹é…ã€å±æ€§æœªç»“æ„åŒ–</li>
            <li>å»ºè®®ï¼šé›†ä¸­æ•´ç†å±é™©å“æ¡£æ¡ˆåº“ â†’ å¤ç”¨è‡³ EU å…¶ä»–ç«™ç‚¹</li>
          </ul>
          <p class="acc-tip">
            æç¤ºï¼šä¸Šä¼  SDS åç­‰å¾…ç³»ç»Ÿå®¡æ ¸ï¼Œå¯ç”¨æ‰¹é‡å·¥å…·åŠ é€Ÿï¼›ç›‘æ§â€œå—é™åº“å­˜â€æ¨¡å—è­¦æŠ¥ã€‚
          </p>
        </div>
      </div>

      <!-- 1.4 å…¶ä»–åˆè§„æ”¿ç­– -->
      <div class="acc-item" :class="{ open: openSections.otherCompliance }">
        <button
          class="acc-header"
          @click="toggleSection('otherCompliance')"
          :aria-expanded="openSections.otherCompliance.toString()"
          aria-controls="panel-otherCompliance"
        >
          <span class="acc-index">1.4</span>
          <span class="acc-title">å…¶ä»–åˆè§„æ”¿ç­–</span>
          <span class="acc-icon" aria-hidden="true"></span>
        </button>
        <div class="acc-body" id="panel-otherCompliance" v-show="openSections.otherCompliance">
          <h2>ğŸ“£ åˆè§„é£é™©</h2>
          <p class="content-description">ä¸‹åˆ—æ¨¡å—å±•ç¤ºç‰©æµæ–¹æ¡ˆã€PanEUæ”¿ç­–ã€äº§å“ä¸VATåˆè§„ä¿¡æ¯</p>
          <ProductComplianceComponent />
        </div>
      </div>
    </div>

  </div>
</template>
<script>
import EUInternalSolutionsComponent from './EUInternalSolutionsComponent.vue'
import PanEUPolicyUpdateComponent from './PanEUPolicyUpdateComponent.vue'
import ProductComplianceComponent from './ProductComplianceComponent.vue'
import VATComplianceComponent from './VATComplianceComponent.vue'
import VATInfoComponent from './VATInfoComponent.vue'

export default {
  name: 'Tab7',
  components: {
    EUInternalSolutionsComponent,
    PanEUPolicyUpdateComponent,
    ProductComplianceComponent,
    VATComplianceComponent,
    VATInfoComponent,
  },
  data() {
    return {
      openSections: {
        nlListing: false,
        itCompliance: false,
        ukFHDDS: false,
        otherCompliance: false,
      },
    }
  },
  methods: {
    toggleSection(key) {
      if (this.openSections[key] !== undefined) {
        this.openSections[key] = !this.openSections[key]
      }
    },
  },
}
</script>

<style scoped>
.content-panel {
  background-color: #ffffff;
  margin: 0;
  padding: 24px;
  height: fit-content;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  box-sizing: border-box;
}

.content-header {
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid #e0e0e0;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.content-header h2 {
  margin: 0 0 8px 0;
  color: #232f3e;
  font-size: 24px;
  font-weight: 600;
}

.content-description {
  margin: 0;
  color: #666666;
  font-size: 14px;
  line-height: 1.5;
}

.second-block {
  margin-top: 48px; /* ä¸ä¸Šæ–¹æ¨¡å—æ‹‰å¼€è·ç¦» */
}

.content-body {
  color: #333333;
  height: fit-content;
}

/* æ”¿ç­–æ›´æ–°å›¾ç‰‡åŒºåŸŸ */
.policy-card {
  text-align: center;
  padding: 20px;
  background: #ffffff;
  border-radius: 10px;
  border: 1px solid #e8e8e8;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition:
    box-shadow 0.25s ease,
    transform 0.25s ease;
  position: relative;
}

.policy-card:hover {
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.18);
  transform: translateY(-2px);
}

.policy-link {
  display: inline-block;
  cursor: pointer;
  width: 100%;
  max-width: 1200px;
}

.policy-image {
  width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition:
    transform 0.25s ease,
    box-shadow 0.25s ease;
}

.policy-card:hover .policy-image {
  transform: scale(1.02);
  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.25);
}

.img-caption {
  margin-top: 12px;
  font-size: 12px;
  color: #666;
  letter-spacing: 0.5px;
}

/* åˆè§„æ¨¡å—å¸ƒå±€ */
.compliance-modules {
  display: flex;
  flex-direction: column;
  gap: 32px;
  margin-top: 8px;
}

.module-item {
  background: transparent; /* å†…éƒ¨ç»„ä»¶è‡ªå¸¦å¡ç‰‡æ ·å¼ */
}

/* Accordion æ ·å¼ */
.accordion {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.acc-item {
  border: 1px solid #e3e6ea;
  border-radius: 10px;
  background: #fff;
  overflow: hidden;
  transition:
    border-color 0.25s ease,
    box-shadow 0.25s ease;
}
.acc-item.open {
  border-color: #ff9900;
  box-shadow: 0 4px 14px -4px rgba(0, 0, 0, 0.15);
}
.acc-header {
  width: 100%;
  background: linear-gradient(90deg, #232f3e, #2f3d4a);
  color: #fff;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 18px;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.3px;
  position: relative;
  text-align: left;
}
.acc-item.open .acc-header {
  background: linear-gradient(90deg, #ff9900, #ffad33);
  color: #232f3e;
}
.acc-index {
  background: #ff9900;
  color: #232f3e;
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
}
.acc-item.open .acc-index {
  background: #232f3e;
  color: #ff9900;
}
.acc-title {
  flex: 1;
}
.acc-icon {
  position: relative;
  width: 14px;
  height: 14px;
  flex-shrink: 0;
}
.acc-icon:before,
.acc-icon:after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  background: currentColor;
  border-radius: 1px;
  transition: transform 0.28s ease, opacity 0.28s ease;
}
/* æ°´å¹³çº¿ */
.acc-icon:before {
  width: 100%;
  height: 2px;
  transform: translate(-50%, -50%);
}
/* å‚ç›´çº¿ */
.acc-icon:after {
  height: 100%;
  width: 2px;
  transform: translate(-50%, -50%);
}
/* å±•å¼€æ—¶æ”¶èµ·ç«–çº¿ï¼Œå½¢æˆå‡å· */
.acc-item.open .acc-icon:after {
  transform: translate(-50%, -50%) scaleY(0);
  opacity: 0;
}
.acc-body {
  padding: 16px 20px 20px;
  background: #fafafa;
  line-height: 1.55;
  font-size: 13px;
  color: #333;
  border-top: 1px solid #e8e8e8;
}
.acc-text {
  margin: 0 0 12px;
}
.acc-list {
  margin: 0;
  padding-left: 18px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.acc-list.ordered {
  list-style: decimal;
  padding-left: 22px;
}
.acc-tip {
  background: #fff8eb;
  border: 1px solid #ffe3bf;
  padding: 10px 12px;
  border-radius: 8px;
  font-size: 12px;
  color: #7a4a00;
  margin: 14px 0 0;
}

/* ===================== æ”¿ç­–æ›´æ–°å¡ç‰‡ (Accordion å†…è‡ªå®šä¹‰å¡ç‰‡) ===================== */
.policy-update-card {
  position: relative;
  background: #ffffff;
  border: 1px solid #e3e6ea;
  border-radius: 14px;
  padding: 26px 28px 30px;
  box-shadow:
    0 4px 14px -4px rgba(0, 0, 0, 0.12),
    0 2px 6px -2px rgba(0, 0, 0, 0.08);
  transition:
    box-shadow 0.35s ease,
    transform 0.35s ease,
    border-color 0.35s ease;
  overflow: hidden;
}
.policy-update-card:before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 85% 15%, rgba(255, 153, 0, 0.18), transparent 60%),
    linear-gradient(135deg, rgba(255, 153, 0, 0.08), rgba(35, 47, 62, 0));
  pointer-events: none;
  opacity: 0.85;
}
.policy-update-card:hover {
  border-color: #ff9900;
  box-shadow:
    0 10px 28px -6px rgba(0, 0, 0, 0.18),
    0 4px 12px -3px rgba(0, 0, 0, 0.12);
  transform: translateY(-2px);
}
.policy-update-card:active {
  transform: translateY(0);
}

.policy-update-card .main-title {
  margin: 0 0 18px;
  font-size: 22px;
  letter-spacing: 0.5px;
  font-weight: 600;
  color: #232f3e;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  position: relative;
  z-index: 1;
}
.policy-update-card .main-title:after {
  content: '';
  height: 4px;
  width: 46px;
  background: linear-gradient(90deg, #ff9900, #ffb84d);
  border-radius: 4px;
  display: block;
  margin-top: 8px;
}

.policy-update-card .content-area {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.policy-update-card .sub-title {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #ff9900;
  letter-spacing: 0.3px;
}

/* ä¿¡æ¯ç›’ - é»„è‰² */
.info-box-yellow {
  background: linear-gradient(135deg, #fff8eb, #fff3db 55%, #ffe8bd);
  border: 1px solid #ffdca0;
  border-radius: 12px;
  padding: 16px 18px 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  position: relative;
  box-shadow:
    0 2px 6px -2px rgba(0, 0, 0, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.06);
}
.info-box-yellow:before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background: linear-gradient(140deg, rgba(255, 153, 0, 0.22), rgba(255, 186, 73, 0) 55%);
  mix-blend-mode: multiply;
  opacity: 0.55;
}

/* ä¿¡æ¯ç›’ - ç»¿è‰²æç¤º */
.info-box-green {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: #256c37;
  background: linear-gradient(90deg, #e8f5e9, #d8f0df);
  border: 1px solid #b2e2c1;
  padding: 8px 12px;
  border-radius: 10px;
  width: fit-content;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}
.info-box-green .icon {
  color: #1d5f30;
}

.info-line {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
  color: #604a20;
  letter-spacing: 0.2px;
  line-height: 1.4;
}
.info-line .icon {
  flex-shrink: 0;
  color: #cc7a00;
}

.asin-badge {
  background: #232f3e;
  color: #ffb84d;
  padding: 2px 10px;
  border-radius: 14px;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}
.highlight-text {
  color: #d9480f;
  font-weight: 600;
  background: linear-gradient(90deg, #ffe1cc, #ffd4b3);
  padding: 2px 6px;
  border-radius: 6px;
}

.policy-update-card .description {
  margin: 0;
  font-size: 13px;
  line-height: 1.55;
  color: #333;
  letter-spacing: 0.2px;
  background: #fafafa;
  border: 1px solid #ececec;
  padding: 14px 16px;
  border-radius: 10px;
  box-shadow: inset 0 0 0 1px #f5f5f5;
}

/* è½»é‡ç¼©ç•¥æ¨¡å¼ï¼ˆåæœŸå¯å¤ç”¨ï¼‰ */
.policy-update-card.compact {
  padding: 20px 22px 24px;
}
.policy-update-card.compact .main-title {
  font-size: 20px;
}
.policy-update-card.compact .sub-title {
  font-size: 16px;
}

@media (max-width: 992px) {
  .policy-update-card {
    padding: 22px 22px 26px;
  }
  .policy-update-card .main-title {
    font-size: 20px;
  }
  .policy-update-card .sub-title {
    font-size: 17px;
  }
}
@media (max-width: 768px) {
  .policy-update-card {
    padding: 18px 18px 22px;
  }
  .policy-update-card .main-title {
    font-size: 18px;
  }
  .policy-update-card .sub-title {
    font-size: 16px;
  }
  .info-line {
    flex-wrap: wrap;
    gap: 6px;
  }
  .policy-update-card .description {
    font-size: 12.5px;
  }
}

@media (max-width: 768px) {
  .acc-header {
    padding: 12px 14px;
    font-size: 13px;
  }
  .acc-body {
    padding: 14px 16px 18px;
  }
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .content-panel {
    padding: 16px;
  }

  .content-header h2 {
    font-size: 20px;
  }

  .policy-card {
    padding: 12px;
  }
  .img-caption {
    font-size: 11px;
  }

  .compliance-modules {
    gap: 24px;
  }
}
</style>
