<template>
  <div class="sub-tab-panel">
    <h2 style="margin: 0 0 16px; font-size: 24px; font-weight: 600; color: #232f3e">
      2.2 英国和欧盟间物流方案
    </h2>
    <div class="solution-details">
      <div
        style="
          margin-top: 30px;
          padding: 20px;
          background: #ffffff;
          border: 1px solid #ddd;
          border-radius: 6px;
        "
      >
        <!-- <h4 style="color: #333; font-size: 18px; font-weight: 600; margin: 0 0 8px 0">
          英国和欧盟物流方案
        </h4>
        <h5 style="color: #666; font-size: 16px; font-weight: 500; margin: 0 0 4px 0">
          英国和欧盟物流方案的对比和建议
        </h5> -->
        <div
          style="
            display: flex;
            align-items: center;
            margin: 20px 0 15px 0;
            gap: 8px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #333;
          "
        >
          <span style="color: #333; font-size: 16px; font-weight: bold">▶</span>
          <h4 style="color: #333; font-size: 16px; font-weight: 600; margin: 0; line-height: 1.4">
            英国和欧盟间物流方案的对比和建议
          </h4>
        </div>
        <div
          style="
            background: linear-gradient(135deg, #333 0%, #333 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
            margin: 15px auto 20px auto;
            width: fit-content;
            box-shadow: 0 2px 4px rgba(51, 51, 51, 0.3);
          "
        >
          英欧双向双入驻 vs. 英国单收取2个间配送跨境运
        </div>
        <table
          style="
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
            background: #ffffff;
            border: 2px solid #333;
            border-radius: 6px;
            margin-top: 15px;
          "
        >
          <thead>
            <tr>
              <th
                style="
                  background: #333;
                  color: white;
                  font-weight: 600;
                  padding: 12px 10px;
                  text-align: center;
                  border-right: 1px solid #fff;
                  font-size: 11px;
                  width: 25%;
                "
              >
                UK<->EU FBA 物流模式
              </th>
              <th
                style="
                  background: linear-gradient(135deg, #333 0%, #333 100%);
                  color: white;
                  font-weight: 600;
                  padding: 12px 10px;
                  text-align: center;
                  border-right: 1px solid #fff;
                  font-size: 11px;
                  width: 37.5%;
                "
              >
                英国收获双选入驻<br />Dual Inbound (DI)
              </th>
              <th
                style="
                  background: linear-gradient(135deg, #333 0%, #333 100%);
                  color: white;
                  font-weight: 600;
                  padding: 12px 10px;
                  text-align: center;
                  font-size: 11px;
                  width: 37.5%;
                "
              >
                英国与欧盟2个间的远程配送<br />Remote Fulfillment between the UK and EU (EURF)
              </th>
            </tr>
          </thead>
          <tbody>
            <tr style="background: #f8f9fa">
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  font-weight: 600;
                  text-align: center;
                  padding: 10px 8px;
                  border: 1px solid #ddd;
                  border-right: 2px solid #ddd;
                "
              >
                介绍
              </td>
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                卖家能够将货物入列,选至英国EU配送链运营
              </td>
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                卖家入驻合欧盟欧选收后任一成本国。<br />即可以欧盟侧位者定者向任和到联欧洲盟通过当当和和
              </td>
            </tr>
            <tr style="background: #fafafa">
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  font-weight: 600;
                  text-align: center;
                  padding: 10px 8px;
                  border: 1px solid #ddd;
                  border-right: 2px solid #ddd;
                "
              >
                头程物流 (CN->EU FBA FCs)
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                需要保齐英国/EU仓都要发送成本高, 成本偏对应
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                需要保齐英国/EU仓都要发送成本高, 成本偏对应
              </td>
            </tr>
            <tr>
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  font-weight: 600;
                  text-align: center;
                  padding: 10px 8px;
                  border: 1px solid #ddd;
                  border-right: 2px solid #ddd;
                "
              >
                尾程配送 (FBA)
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                需即到及优缺费见卖水电配送选供下优程收商品. 1-2天送达
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                有销运费, 客期间, 5-7天送达
              </td>
            </tr>
            <tr>
              <td
                colspan="3"
                style="
                  background: #e9ecef;
                  color: #495057;
                  font-weight: 600;
                  text-align: center;
                  padding: 8px;
                  font-size: 12px;
                  border: 1px solid #ddd;
                "
              >
                加入条件
              </td>
            </tr>
            <tr style="background: #fafafa">
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  font-weight: 600;
                  text-align: center;
                  padding: 10px 8px;
                  border: 1px solid #ddd;
                  border-right: 2px solid #ddd;
                "
              >
                ASIN 设置
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                应收收市已的英国DI，以设收下及环费欧提综收都配配配，具其优可<br />可可可该中欧中是最在的优
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                需要配重设网英国/欧盟的DI的配配配. 部分 ASIN 无法除以设在欧应有或
              </td>
            </tr>
            <tr>
              <td
                style="
                  background: #f8f9fa;
                  color: #333;
                  font-weight: 600;
                  text-align: center;
                  padding: 10px 8px;
                  border: 1px solid #ddd;
                  border-right: 2px solid #ddd;
                "
              >
                VAT 要求
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                需要配置2个VAT<br />或申请提调及者收欧盟的 VAT
              </td>
              <td
                style="
                  color: #333;
                  text-align: left;
                  padding: 10px 12px;
                  border: 1px solid #ddd;
                  font-size: 10px;
                "
              >
                仅设置1个VAT<br />或申请提调及者收欧盟VAT
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- IntraEU 服务与机会指引（新增） -->
    <div class="intraeu-wrapper">
      <IntraEUService />
    </div>

    <!-- DI 分析结果区块（追加） -->
    <div class="analysis-section">
      <div class="section-header">
        <h3>🔄 DI 分析结果</h3>
        <p class="section-description">双边入库机会分析详情</p>
      </div>
      <div class="section-content">
        <div v-if="diResult">
          <h4 style="color: #333; font-size: 16px; margin: 10px 0;">{{ diResult.report_title }}</h4>

          <!-- 关键机会分析 -->
            <div v-if="diResult.key_opportunity_analysis" style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 6px; border-left: 4px solid #333;">
              <h5 style="color: #333; font-size: 14px; margin: 0 0 10px 0;">{{ diResult.key_opportunity_analysis.title }}</h5>
              <p style="color: #666; font-size: 13px; margin: 0 0 10px 0;">{{ diResult.key_opportunity_analysis.subtitle }}</p>
              <ul style="margin: 0; padding-left: 20px;">
                <li v-for="point in diResult.key_opportunity_analysis.points" :key="point.title" style="color: #555; font-size: 13px; margin: 5px 0;">
                  <strong>{{ point.title }}:</strong> {{ point.description }}
                </li>
              </ul>
            </div>

            <!-- 推荐行动 -->
            <div v-if="diResult.recommended_actions" style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 6px; border-left: 4px solid #333;">
              <h5 style="color: #333; font-size: 14px; margin: 0 0 10px 0;">{{ diResult.recommended_actions.title }}</h5>
              <ol style="margin: 0; padding-left: 20px;">
                <li v-for="action in diResult.recommended_actions.actions" :key="action.priority" style="color: #555; font-size: 13px; margin: 8px 0;">
                  <span style="background: #333; color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px; font-weight: bold; margin-right: 8px;">P{{ action.priority }}</span>
                  {{ action.recommendation }}
                </li>
              </ol>
            </div>

            <!-- 数据表 -->
            <div v-if="diResult.data_table" style="margin: 20px 0;">
              <h5 style="color: #333; font-size: 14px; margin-bottom: 15px;">数据表</h5>
              <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; font-size: 12px; background: #ffffff; border: 1px solid #ddd; border-radius: 4px;">
                  <thead>
                    <tr>
                      <th v-for="header in diResult.data_table.headers" :key="header" style="background: #333; color: white; padding: 12px 8px; text-align: center; border-right: 1px solid #555;">{{ header }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="row in diResult.data_table.rows" :key="row['#']">
                      <td style="padding: 10px 8px; border: 1px solid #ddd; text-align: center;">{{ row['#'] }}</td>
                      <td style="padding: 10px 8px; border: 1px solid #ddd;">{{ row['UK<>EU ASIN'] }}</td>
                      <td style="padding: 10px 8px; border: 1px solid #ddd; text-align: center; font-weight: bold; color: #333;">{{ row['数量'] }}</td>
                      <td style="padding: 10px 8px; border: 1px solid #ddd; text-align: center;">{{ row['来源商城销售额(T30D)'] }}</td>
                      <td style="padding: 10px 8px; border: 1px solid #ddd;">{{ row['机会点及操作'] }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
        </div>
        <div v-else class="no-data">
          <p>暂无 DI 分析数据</p>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import IntraEUService from './TianOffered/IntraEUService.vue'
export default {
  name: 'Tab62',
  props: {
    // di 分析结果
    diResult: {
      type: Object,
      default: null,
    },
  },
  components: { IntraEUService }
}
</script>
<style scoped>
.sub-tab-panel {
  background: #fff;
  padding: 24px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
}
.intraeu-wrapper { margin: 30px 0 10px; background:#fff; border:1px solid #e5e7eb; border-radius:10px; overflow:hidden; }
.intraeu-wrapper :deep(.container){ background:#fff; padding:24px 24px 10px; max-width:100%; }
.intraeu-wrapper :deep(.section){ box-shadow:none; border:1px solid #f1f3f5; border-radius:8px; margin-bottom:24px; }
.intraeu-wrapper :deep(.section-title){ background:linear-gradient(90deg,#2d3748,#4a5568); padding:14px 18px; font-size:16px; }
.intraeu-wrapper :deep(.section-content){ padding:18px 20px 22px; }
.intraeu-wrapper :deep(.feature-box),
.intraeu-wrapper :deep(.gift-package),
.intraeu-wrapper :deep(.case-study){ background:#f8f9fa; }
.intraeu-wrapper :deep(.container){ min-height:initial; }
.sub-tab-panel h2 {
  margin: 0 0 12px;
  font-size: 22px;
  color: #232f3e;
}
.sub-tab-panel p {
  margin: 0;
  font-size: 14px;
  line-height: 1.6;
  color: #444;
}
/* 追加 DI 分析区块样式 */
.analysis-section {
  margin-top: 40px;
  background: #ffffff;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  overflow: hidden;
}
.section-header {
  background: #f8f9fa;
  padding: 20px 24px;
  border-bottom: 1px solid #e0e0e0;
}
.section-header h3 {
  margin: 0 0 8px 0;
  color: #232f3e;
  font-size: 20px;
  font-weight: 600;
}
.section-description {
  margin: 0;
  color: #666666;
  font-size: 14px;
  line-height: 1.5;
}
.section-content { padding: 24px; }
.no-data { text-align: center; padding: 40px; color: #999; font-size: 14px; }
.no-data p { margin: 0; }
</style>
